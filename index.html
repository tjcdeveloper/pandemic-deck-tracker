<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="/src/styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tauri App</title>
    <script type="module" src="/src/main.ts" defer></script>
  </head>
  <body>
    <div class="container">
      <h1>Pandemic Legacy Season 2 - Infection Deck Card Tracker</h1>

      <p>
        Keep track of what cards have been drawn, and after an epidemic what known cards are on the top of the deck.
      </p>

      <div class="ts-toggle">
        <div>
          <a href="#" data-alt-text="Hide instructions ▲" class="ts-toggle-btn">Show instructions ▼</a>
        </div>
        <main class="ts-toggle-content hidden">
          <p>
            Each time you draw a card from the deck click the button with the cities name on it. This will move it from the deck (taking from the known cards at the top of the deck first) into the discard pile.
          </p>
          <p>
            When you draw an epidemic card click on the Epidemic button. This will ask you what card you drew during the infect step, take it from the unknowns and add it to the discards. It will then add all the discards back on top of the deck in the known cards section.
          </p>
        </main>
      </div>

      <div class="row card-columns">
        <div id="ts-cards-unknown">
          <h2>Unknown cards</h2>
        </div>
        <div id="ts-cards-known">
          <h2>Known cards on top</h2>
        </div>
        <div id="ts-cards-discard">
          <h2>Discard pile</h2>
        </div>
      </div>

      <div class="mt-3 flex-wrap">
        <h2>Draw cards</h2>
        <div class="row center-content">
          <img src="/src/assets/epidemic-btn.png" alt="Epidemic Button" class="btn epidemic-btn" id="ts-epidemic-btn">
        </div>
        <div class="row" id="draw-buttons"></div>
      </div>
    </div>
    <div class="modal epidemic-modal" id="ts-epidemic-modal" data-modal-trigger-id="ts-epidemic-btn">
      <section class="modal-content">
        <header><img src="/src/assets/epidemic-btn.png" alt="Epidemic"></header>
        <main>
          <p>
            <strong>Infect:</strong> draw a card from the bottom of the infect deck, select the city.
          </p>
          <fieldset class="epidemic-modal_cities" id="ts-epidemic-cities"></fieldset>
        </main>
        <footer>
          <button class="btn btn-red modal-close">Cancel</button>
          <button class="btn btn-green modal-ok" data-callback="doEpidemic">Draw</button>
        </footer>
      </section>
    </div>
  </body>
</html>
